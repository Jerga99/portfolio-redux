{"version":3,"file":"static/webpack/static/development/pages/portfolio.js.1f88b78042b4db90bcaf.hot-update.js","sources":["webpack:///./actions/index.js"],"sourcesContent":["import axios from 'axios';\nimport Cookie from 'js-cookie';\nimport { AUTH_SUCCESS, AUTH_FAIL } from './types';\n\nconst axiosService = axios.create({\n  baseURL: '/api/v1',\n  timeout: 2000\n});\n\nconst setAuthHeader = () => {\n  const token = Cookie.getJSON('jwt');\n\n  if (token) {\n    return { headers: {'Authorization': `Bearer ${token}` }}\n  }\n\n  return null;\n}\n\nconst extractUrl = (req) => {\n   return req ? `${req.protocol}://${req.get('Host')}/api/v1` : '';\n}\n\n//---------------------- AUTH ----------------------------\n\nexport const authSuccess = (user) => {\n  return {\n    type: AUTH_SUCCESS,\n    user\n  }\n}\n\nexport const authFail = () => {\n  return {\n    type: AUTH_FAIL\n  }\n}\n\n//---------------------- PORTFOLIOS ----------------------------\n\nexport const createPortfolio = (portfolio) => {\n  return axiosService.post('/portfolios', portfolio, setAuthHeader());\n}\n\nexport const getPortfoliosServer = (req) => {\n  return axios.get(`${extractUrl(req)}/api/v1/portfolios`)\n    .then(response => response.data)\n    .catch(({response}) => response.data)\n}\n\n//---------------------- BLOGS ----------------------------\n\nexport const getAllBlogs = (req) => {\n\n  return axiosService.get(`${extractUrl(req)}/blogs`).then(response => response.data);\n}\n\nexport const getAllBlogsServer = (url) => {\n  return axiosService.get(`${url}/api/v1/blogs`).then(response => response.data);\n}\n\nexport const getBlogById = (userId) => {\n  return axiosService.get(`/blogs/me/${userId}`, setAuthHeader()).then(response => response.data);\n}\n\nexport const getBlogBySlug = (slug) => {\n  return axiosService.get(`/blogs/${slug}`, setAuthHeader()).then(response => response.data);\n}\n\nexport const getBlogBySlugServer = (url) => {\n  return axiosService.get(`${url}/api/v1/blogs/${slug}`, setAuthHeader()).then(response => response.data);\n}\n\nexport const getMyBlogs = () => {\n  return axiosService.get(`/blogs/me`, setAuthHeader()).then(response => response.data);\n}\n\nexport const saveBlog = (blog) => {\n  if (blog._id) {\n    return axiosService.patch(`/blogs/${blog._id}`, blog, setAuthHeader());\n  }\n\n  return axiosService.post('/blogs/new', blog, setAuthHeader()).then(res => res.data.blog);\n}\n\nexport const updateBlog = (blog) => {\n  return axiosService.patch(`/blogs/${blog._id}`, blog, setAuthHeader());\n}\n\nexport const deleteBlog = (blogId) => {\n  return axiosService.delete(`/blogs/${blogId}`, setAuthHeader());\n}\n\n\n\n\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AADA;AAGA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAGA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;;;;A","sourceRoot":""}