{"version":3,"file":"static/development/pages/blogListing.js","sources":["webpack:///webpack/bootstrap","webpack:///./actions/index.js","webpack:///./actions/types.js","webpack:///./components/ActiveLink.js","webpack:///./components/BaseLayout.js","webpack:///./components/Login.js","webpack:///./components/common/Header.js","webpack:///./pages/_app.js","webpack:///./pages/blogListing.js","webpack:///./reducers/auth-reducer.js","webpack:///./reducers/index.js","webpack:///./routes.js","webpack:///./services/Auth.js","webpack:///external \"@babel/runtime/regenerator\"","webpack:///external \"@fortawesome/fontawesome-svg-core\"","webpack:///external \"@fortawesome/free-solid-svg-icons\"","webpack:///external \"@fortawesome/react-fontawesome\"","webpack:///external \"auth0-js\"","webpack:///external \"axios\"","webpack:///external \"isomorphic-unfetch\"","webpack:///external \"js-cookie\"","webpack:///external \"jsonwebtoken\"","webpack:///external \"moment\"","webpack:///external \"next-routes\"","webpack:///external \"next/app\"","webpack:///external \"next/head\"","webpack:///external \"next/router\"","webpack:///external \"react\"","webpack:///external \"react-redux\"","webpack:///external \"reactstrap\"","webpack:///external \"redux\"","webpack:///external \"redux-devtools-extension\"","webpack:///external \"redux-form\"","webpack:///external \"redux-thunk\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","import axios from 'axios';\nimport Cookie from 'js-cookie';\nimport { AUTH_SUCCESS, AUTH_FAIL } from './types';\n\nconst axiosService = axios.create({\n  baseURL: '/api/v1',\n  timeout: 2000\n});\n\nconst setAuthHeader = () => {\n  const token = Cookie.getJSON('jwt');\n\n  if (token) {\n    return { headers: {'Authorization': `Bearer ${token}` }}\n  }\n\n  return null;\n}\n\nconst extractUrl = (req) => {\n   return req ? `${req.protocol}://${req.get('Host')}` : '';\n}\n\n//---------------------- AUTH ----------------------------\n\nexport const authSuccess = (user) => {\n  return {\n    type: AUTH_SUCCESS,\n    user\n  }\n}\n\nexport const authFail = () => {\n  return {\n    type: AUTH_FAIL\n  }\n}\n\n//---------------------- CV ----------------------------\n\nexport const getCv = (req) => {\n  const url = req ? `${req.protocol}://${req.get('Host')}` : '';\n\n  return axios.get(`${url}/jerga_cv.pdf`).then(response => response.data);\n}\n\n//---------------------- PORTFOLIOS ----------------------------\n\nexport const createPortfolio = (portfolio) => {\n  return axiosService.post('/portfolios', portfolio, setAuthHeader());\n}\n\nexport const getPortfolios = (req) => {\n  return axios.get(`${extractUrl(req)}/api/v1/portfolios`)\n    .then(response => response.data)\n    .catch(({response}) => response.data)\n}\n\n//---------------------- BLOGS ----------------------------\n\nexport const getAllBlogs = (req) => {\n  return axiosService.get(`${extractUrl(req)}/blogs`).then(response => response.data);\n}\n\n// export const getAllBlogsServer = (url) => {\n//   return axiosService.get(`${url}/api/v1/blogs`).then(response => response.data);\n// }\n\nexport const getBlogById = (userId) => {\n  return axiosService.get(`/blogs/me/${userId}`, setAuthHeader()).then(response => response.data);\n}\n\nexport const getBlogBySlug = (req, slug) => {\n  return axiosService.get(`${extractUrl(req)}/blogs/${slug}`, setAuthHeader()).then(response => response.data);\n}\n\n// export const getBlogBySlugServer = (req) => {\n//   return axiosService.get(`${url}/api/v1/blogs/${slug}`, setAuthHeader()).then(response => response.data);\n// }\n\nexport const getMyBlogs = () => {\n  return axiosService.get(`/blogs/me`, setAuthHeader()).then(response => response.data);\n}\n\nexport const saveBlog = (blog) => {\n  if (blog._id) {\n    return axiosService.patch(`/blogs/${blog._id}`, blog, setAuthHeader());\n  }\n\n  return axiosService.post('/blogs/new', blog, setAuthHeader()).then(res => res.data.blog);\n}\n\nexport const updateBlog = (blog) => {\n  return axiosService.patch(`/blogs/${blog._id}`, blog, setAuthHeader());\n}\n\nexport const deleteBlog = (blogId) => {\n  return axiosService.delete(`/blogs/${blogId}`, setAuthHeader());\n}\n\n\n\n\n","export const AUTH_SUCCESS = 'AUTH_SUCCESS';\nexport const AUTH_FAIL = 'AUTH_FAIL';\n","import { withRouter } from 'next/router';\n// import Link from 'next/link';\nimport React, { Children } from 'react';\nimport { Link } from '../routes'\n\nconst ActiveLink = ({ router, children, ...props }) => {\n  const child = Children.only(children);\n\n  let className = child.props.className || '';\n  if (router.asPath === props.route && props.activeClassName) {\n    className = `${className} ${props.activeClassName}`.trim();\n  }\n\n  delete props.activeClassName;\n\n  return <Link {...props}>{React.cloneElement(child, { className })}</Link>;\n};\n\nexport default withRouter(ActiveLink);\n","import Head from 'next/head'\nimport Header from './common/Header';\nimport MyApp from '../pages/_app';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport '../styles/main.scss'\n\n\nconst BaseLayout = (props) => {\n\n  const { className, children, canonical } = props;\n  const headerType = props.headerType || 'normal';\n  const title = props.title || 'Filip Jerga Personal Website and Portfolio';\n\n  return (\n    <div>\n      <Head>\n        <title>{title}</title>\n        <meta name=\"viewport\" content=\"initial-scale=1.0, width=device-width\" />\n        <meta charSet=\"utf-8\" />\n        <meta name=\"keywords\" content=\"Programming, Freelancing, Portfolio, Filip jerga\"/>\n        <meta name=\"description\" content=\"My name is Filip Jerga and I am an experienced software engineer and freelance developer. I have a Master's degree in Artificial Intelligence and several years of experience working on a wide range of technologies and projects from C++ development for ultrasound devices to modern mobile and web applications in React and Angular. Throughout my career, I have acquired advanced technical knowledge and the ability to explain programming topics clearly and in detail to a broad audience. I invite you to take my course, where I have put a lot of effort to explain web and software engineering concepts in a detailed, hands-on and understandable way.\"/>\n        <meta property=\"og:title\" content=\"Filip Jerga - programmer, contractor, blogger\"/>\n        <meta property=\"og:locale\" content=\"en_EU\"/>\n        <meta property=\"og:url\" content=\"https://port-fel.herokuapp.com\"/>\n        <meta property=\"og:type\" content=\"website\"/>\n        <meta property=\"og:description\" content=\"Programmer portfolio, personal site by Filip Jerga, good blog and more. Java, web developer and mobile application developer. Blog about programming.\"/>\n\n        {canonical && <link href=\"https://port-fel.herokuapp.com\" rel=\"canonical\"/>}\n        <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\"/>\n        <link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.4.1/css/all.css\" integrity=\"sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz\" crossOrigin=\"anonymous\"/>\n      </Head>\n\n        <div className=\"layout-container\" >\n          {headerType === 'normal' && <Header className=\"navbar mainNav navbar-expand-lg bg-secondary fixed-top text-uppercase\"/>}\n          {headerType === 'landing' && <Header className=\"port-navbar absolute\" color=\"transparent\"/>}\n          {headerType === 'none' &&  null}\n          <main className={`cover ${className}`}>\n            <div className=\"wrapper\">\n              {children}\n            </div>\n          </main>\n        </div>\n\n    </div>\n  )\n}\n\nexport default BaseLayout\n\n\n// image <meta property=\"og:image\" content=\"http://mateuszzbylut.com/img/Mateusz-Zbylut.png\">\n","import React from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport auth0Client from '../services/Auth';\n\nclass LoginComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modal: false\n    };\n\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n  render() {\n    const { actionEl } = this.props;\n\n    return (\n      <React.Fragment>\n        {actionEl ? actionEl({toggle: this.toggle}) : <Button color=\"danger\" onClick={this.toggle}>{this.props.buttonLabel}</Button>}\n        <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className}>\n          <ModalHeader className=\"modal-title\" toggle={this.toggle}>Login</ModalHeader>\n          <ModalBody>\n            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"primary\" onClick={auth0Client.signIn}>Do Something</Button>{' '}\n            <Button color=\"secondary\" onClick={this.toggle}>Cancel</Button>\n          </ModalFooter>\n        </Modal>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default LoginComponent;\n","import React from 'react';\nimport LoginComponent from '../Login';\nimport auth0Client from '../../services/Auth';\n\nimport { withRouter } from 'next/router';\nimport ActiveLink from '../ActiveLink';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions';\n// import Link from 'next/link'\n\nimport { Link } from '../../routes'\n\nimport {\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  NavbarBrand,\n  Nav,\n  NavItem,\n  NavLink,\n  UncontrolledDropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem } from 'reactstrap';\n\nclass Header extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.toggle = this.toggle.bind(this);\n    this.state = {\n      isOpen: false\n    };\n  }\n\n  toggle() {\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n  }\n\n  signOut() {\n    auth0Client.signOut();\n    this.props.dispatch(actions.authFail());\n\n    this.props.router.replace('/');\n  };\n\n  render() {\n    const { className, color, auth: {isLoadingAuthState, isAuth} } = this.props;\n\n    return (\n        <Navbar className={className} color={color} expand=\"md\">\n          <NavbarBrand className=\"port-navbar-brand\" href=\"/\">Filip Jerga</NavbarBrand>\n          <NavbarToggler onClick={this.toggle} />\n          <Collapse isOpen={this.state.isOpen} navbar>\n            <Nav className=\"ml-auto\" navbar>\n              <NavItem>\n                <ActiveLink activeClassName=\"active\" route=\"/blogs\">\n                  <a className=\"nav-link\"> Blog </a>\n                </ActiveLink>\n              </NavItem>\n\n              <NavItem>\n                <ActiveLink activeClassName=\"active\" route=\"/bio\">\n                  <a className=\"nav-link\"> Bio </a>\n                </ActiveLink>\n              </NavItem>\n              <NavItem>\n                <ActiveLink activeClassName=\"active\" route=\"/portfolio\">\n                  <a className=\"nav-link\"> Portfolio </a>\n                </ActiveLink>\n              </NavItem>\n              <NavItem>\n                <ActiveLink activeClassName=\"active\" route=\"/cv\">\n                  <a className=\"nav-link\"> CV </a>\n                </ActiveLink>\n              </NavItem>\n              {\n                !isLoadingAuthState && !isAuth &&\n                <NavItem>\n                  <LoginComponent\n                    actionEl={({toggle}) => <NavLink onClick={toggle} href=\"#\"> Login </NavLink>} />\n                </NavItem>\n              }\n              {\n                !isLoadingAuthState && isAuth &&\n                <NavItem>\n                  <NavLink href=\"#\" className=\"btn btn-danger\" onClick={() => {this.signOut()}}>Sign Out</NavLink>\n                </NavItem>\n              }\n            </Nav>\n          </Collapse>\n        </Navbar>\n\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth\n  }\n}\n\nexport default connect(mapStateToProps)(withRouter(Header));\n\n\n// <NavLink className=\"mr-2 text-white\">{auth0Client.getProfile().name}</NavLink>\n","import React from 'react';\nimport App, { Container } from 'next/app';\nimport { Provider } from 'react-redux';\nimport auth0Client from '../services/Auth';\nimport { withRouter } from 'next/router';\nimport { initializeStore } from '../reducers';\n\nimport '@fortawesome/fontawesome-svg-core/styles.css';\nimport \"@fortawesome/fontawesome-free/css/fontawesome.css\";\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faStroopwafel, faPlusCircle } from '@fortawesome/free-solid-svg-icons'\n\nimport * as actions from '../actions';\n\nlibrary.add(faStroopwafel, faPlusCircle);\n\nconst isServer = typeof window === 'undefined';\nconst __NEXT_REDUX_STORE__ = '__NEXT_REDUX_STORE__';\n\nfunction getOrCreateStore (initialState) {\n  // Always make a new store if server, otherwise state is shared between requests\n  if (isServer) {\n    return initializeStore(initialState || {});\n  }\n\n  // Create store if unavailable on the client and set it on the window object\n  if (!window[__NEXT_REDUX_STORE__]) {\n    window[__NEXT_REDUX_STORE__] = initializeStore(initialState);\n  }\n\n  return window[__NEXT_REDUX_STORE__];\n}\n\n\nclass MyApp extends App {\n  static async getInitialProps({ Component, router, ctx, ctx: { req } }) {\n    let pageProps = {}\n\n    const reduxStore = getOrCreateStore();\n    const loggedInUser = process.browser ?\n                          await auth0Client.getTokenForBrowser() :\n                          await auth0Client.getTokenForServer(req);\n\n    if (loggedInUser) {\n      reduxStore.dispatch(actions.authSuccess(loggedInUser))\n      ctx.user = loggedInUser;\n    };\n    // Provide the store to getInitialProps of pages\n    ctx.reduxStore = reduxStore;\n\n    if (Component.getInitialProps) {\n      pageProps = await Component.getInitialProps(ctx);\n    }\n\n    return { pageProps, initialReduxState: reduxStore.getState() }\n  }\n\n  constructor(props) {\n    super(props)\n    this.reduxStore = getOrCreateStore(props.initialReduxState);\n  }\n\n  async componentDidMount() {\n    if (this.props.router.pathname === '/callback') return;\n\n    // try {\n    //   await auth0Client.silentAuth();\n    //   this.reduxStore.dispatch(actions.authSuccess());\n\n    // } catch (err) {\n    //   if (err.error === 'login_required') return;\n    //   console.log(err.error);\n    //   this.reduxStore.dispatch(actions.authFail());\n    // }\n  }\n\n\n  render () {\n    const { Component, pageProps } = this.props;\n\n    return (\n      <Container>\n        <Provider store={this.reduxStore}>\n          <Component {...pageProps} />\n        </Provider>\n      </Container>\n    )\n  }\n}\n\nexport default withRouter(MyApp);\n","import React from 'react';\nimport BaseLayout from '../components/BaseLayout.js';\nimport { Link } from '../routes';\n\nimport moment from 'moment';\n\nimport * as actions from '../actions';\n\nclass BlogListing extends React.Component {\n\n  static async getInitialProps({req}) {\n\n    try {\n      const data = await actions.getAllBlogs(req);\n\n      return { blogs: data };\n    } catch(err) {\n\n      return { err }\n    }\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      blogs: []\n    }\n  }\n\n  // componentDidMount() {\n  //   actions.getAllBlogs()\n  //   .then(\n  //     (blogs) => this.setState({blogs}))\n  //   .catch(err => console.error(err));\n  // }\n\n  renderBlogs(blogs) {\n    return blogs.map((blog, index) => {\n\n      return (\n        <React.Fragment key={index}>\n         <div  className=\"post-preview\">\n          <Link route={`/blogs/${blog.slug}`}>\n            <a>\n              <h2 className=\"post-title\">\n                {blog.title}\n              </h2>\n              <h3 className=\"post-subtitle\">\n                {blog.subTitle}\n              </h3>\n            </a>\n          </Link>\n          <p className=\"post-meta\">Posted by\n            <a href=\"#\"> {blog.author} </a>\n            {blog.updatedAt && moment(blog.updatedAt).format('LLLL')}</p>\n        </div>\n        <hr></hr>\n        </React.Fragment>\n      )\n    })\n  }\n\n  render() {\n    const {blogs} = this.props;\n\n    return (\n      <BaseLayout headerType={'landing'}>\n        <section className=\"blogListing-page\">\n\n          <header className=\"masthead\" style={{\"backgroundImage\": \"url('/static/images/home-bg.jpg')\"}}>\n            <div className=\"overlay\"></div>\n            <div className=\"container\">\n              <div className=\"row\">\n                <div className=\"col-lg-8 col-md-10 mx-auto\">\n                  <div className=\"site-heading\">\n                    <h1>Newest Blogs</h1>\n                    <span className=\"subheading\">Read some blogs...</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </header>\n\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-lg-8 col-md-10 mx-auto\">\n                {\n                  this.renderBlogs(blogs)\n                }\n                <div className=\"clearfix\">\n                  <a className=\"btn btn-primary float-right\" href=\"#\">Older Posts &rarr;</a>\n                </div>\n              </div>\n            </div>\n          </div>\n          <footer>\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-lg-8 col-md-10 mx-auto\">\n            <ul className=\"list-inline text-center\">\n              <li className=\"list-inline-item\">\n                <a href=\"#\">\n                  <span className=\"fa-stack fa-lg\">\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\n                    <i className=\"fab fa-twitter fa-stack-1x fa-inverse\"></i>\n                  </span>\n                </a>\n              </li>\n              <li className=\"list-inline-item\">\n                <a href=\"#\">\n                  <span className=\"fa-stack fa-lg\">\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\n                    <i className=\"fab fa-facebook-f fa-stack-1x fa-inverse\"></i>\n                  </span>\n                </a>\n              </li>\n              <li className=\"list-inline-item\">\n                <a href=\"#\">\n                  <span className=\"fa-stack fa-lg\">\n                    <i className=\"fas fa-circle fa-stack-2x\"></i>\n                    <i className=\"fab fa-github fa-stack-1x fa-inverse\"></i>\n                  </span>\n                </a>\n              </li>\n            </ul>\n            <p className=\"copyright text-muted\">Copyright &copy; Your Website 2018</p>\n          </div>\n        </div>\n      </div>\n    </footer>\n        </section>\n      </BaseLayout>\n    )\n  }\n}\n\nexport default BlogListing;\n","import { AUTH_SUCCESS, AUTH_FAIL } from '../actions/types';\n\nexport const authReducer = (state, action) => {\n  switch(action.type) {\n    case AUTH_SUCCESS:\n      return {...state, isAuth: true, isLoadingAuthState: false, user: action.user};\n    case AUTH_FAIL:\n      return {...state, isAuth: false, isLoadingAuthState: false, user: null};\n    default:\n      return state\n  }\n}\n","import { createStore, applyMiddleware, compose, combineReducers } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunkMiddleware from 'redux-thunk';\nimport { authReducer } from './auth-reducer';\nimport { reducer as formReducer } from 'redux-form';\n\nexport function initializeStore (initialState) {\n  const INITAL_STATE = 'test';\n\n  const reducer = combineReducers({\n    test: (state = INITAL_STATE) => state,\n    auth: (state = initialState.auth || {isAuth: false, isLoadingAuthState: false}, action) => authReducer(state, action),\n    form: formReducer,\n  });\n\n  // const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n  return createStore(reducer, composeWithDevTools(applyMiddleware(thunkMiddleware)))\n}\n","const routes = require('next-routes')\n\nmodule.exports = routes()\n  .add('blogListing', '/blogs', 'blogListing')\n  .add('blogCreate', '/blogs/new', 'blogCreate')\n  .add('blogDetail', '/blogs/:slug', 'blogDetail')\n  .add('blogEdit', '/blogs/:id/edit', 'blogCreate')\n  .add('bio')\n  .add('user', '/user/:id', 'profile')\n  .add('portfolioCreate', '/portfolio/new', 'portfolioCreate')\n  .add('portfolioDetail', '/portfolio/:id', 'portfolioDetail')\n","import auth0 from 'auth0-js';\nimport Cookie from 'js-cookie';\nimport jwt from 'jsonwebtoken';\nimport fetch from 'isomorphic-unfetch';\n\nclass Auth {\n  constructor() {\n    const redirectUri = process.env.NODE_ENV === 'production' ? 'https://port-fel.herokuapp.com' : 'http://localhost:3000';\n\n    this.auth0 = new auth0.WebAuth({\n      // the following three lines MUST be updated\n      domain: 'eincode.eu.auth0.com',\n      audience: 'https://eincode.eu.auth0.com/userinfo',\n      clientID: 'N1hKhhP0PacJO4EjIWURIcnzBt88P3Q1',\n      redirectUri: `${redirectUri}/callback`,\n      responseType: 'token id_token',\n      scope: 'openid profile app_metadata'\n    });\n\n    this._isFetching = false;\n\n    this.getProfile = this.getProfile.bind(this);\n    this.handleAuthentication = this.handleAuthentication.bind(this);\n    this.isAuthenticated = this.isAuthenticated.bind(this);\n    this.signIn = this.signIn.bind(this);\n    this.signOut = this.signOut.bind(this);\n  }\n\n  handleAuthentication() {\n    return new Promise((resolve, reject) => {\n      this.auth0.parseHash((err, authResult) => {\n        if (err) return reject(err);\n        if (!authResult || !authResult.idToken) {\n          return reject(err);\n        }\n        this.setSession(authResult);\n        resolve();\n      });\n    })\n  }\n\n  async getTokenForBrowser() {\n    const token = Cookie.getJSON('jwt');\n    const validToken = await this.verifyToken(token);\n    if (validToken) {\n      return Cookie.getJSON('user');\n    }\n  }\n\n  async getTokenForServer(req) {\n    if (req.headers.cookie) {\n      const jwtFromCookie = req.headers.cookie.split(';').find(c => c.trim().startsWith('jwt='));\n      if (!jwtFromCookie) {\n        return undefined;\n      }\n      const token = jwtFromCookie.split('=')[1];\n      const validToken = await this.verifyToken(token);\n      if (validToken) {\n        return jwt.decode(token);\n      } else {\n        return undefined;\n      }\n    }\n  }\n\n  async getJWK() {\n    const res = await fetch(`https://eincode.eu.auth0.com/.well-known/jwks.json`);\n    const jwk = await res.json();\n    return jwk;\n  }\n\n  async verifyToken(token) {\n    if (token) {\n      const decodedToken = jwt.decode(token, { complete: true });\n      const jwk = await this.getJWK();\n      let cert = jwk.keys[0].x5c[0];\n      cert = cert.match(/.{1,64}/g).join('\\n');\n      cert = `-----BEGIN CERTIFICATE-----\\n${cert}\\n-----END CERTIFICATE-----\\n`;\n      if (jwk.keys[0].kid === decodedToken.header.kid) {\n        try {\n          jwt.verify(token, cert);\n          return true;\n        } catch (error) {\n          console.error(error);\n          return false;\n        }\n      }\n    }\n  }\n\n  setSession(authResult, step) {\n    this.idToken = authResult.idToken;\n    this.profile = authResult.idTokenPayload;\n    // set the time that the id token will expire at\n    this.expiresAt = authResult.expiresIn * 1000 + new Date().getTime();\n\n    Cookie.set('user', authResult.idTokenPayload);\n    Cookie.set('jwt', authResult.idToken);\n  }\n\n  signOut() {\n    this.auth0.logout({\n      returnTo: 'http://localhost:3000',\n      clientID: 'N1hKhhP0PacJO4EjIWURIcnzBt88P3Q1',\n    });\n\n    Cookie.remove('jwt');\n    Cookie.remove('user');\n  }\n\n  silentAuth() {\n    this._isFetching = true;\n\n    return new Promise((resolve, reject) => {\n      this.auth0.checkSession({}, (err, authResult) => {\n        if (err) {\n          this._isFetching = false;\n          return reject(err)\n        };\n\n        this.setSession(authResult);\n        this._isFetching = false;\n        resolve();\n      });\n    });\n  }\n\n  isFetching() {\n    return this._isFetching;\n  }\n\n  getProfile() {\n    return this.profile;\n  }\n\n  getIdToken() {\n    return this.idToken;\n  }\n\n  isAuthenticated() {\n    return new Date().getTime() < this.expiresAt;\n  }\n\n  signIn() {\n    this.auth0.authorize();\n  }\n\n}\n\nconst auth0Client = new Auth();\n\nexport default auth0Client;\n","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"@fortawesome/fontawesome-svg-core\");","module.exports = require(\"@fortawesome/free-solid-svg-icons\");","module.exports = require(\"@fortawesome/react-fontawesome\");","module.exports = require(\"auth0-js\");","module.exports = require(\"axios\");","module.exports = require(\"isomorphic-unfetch\");","module.exports = require(\"js-cookie\");","module.exports = require(\"jsonwebtoken\");","module.exports = require(\"moment\");","module.exports = require(\"next-routes\");","module.exports = require(\"next/app\");","module.exports = require(\"next/head\");","module.exports = require(\"next/router\");","module.exports = require(\"react\");","module.exports = require(\"react-redux\");","module.exports = require(\"reactstrap\");","module.exports = require(\"redux\");","module.exports = require(\"redux-devtools-extension\");","module.exports = require(\"redux-form\");","module.exports = require(\"redux-thunk\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AADA;AAGA;AACA;AAGA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;AClGA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;A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AKA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AAFA;AAKA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;;;;;;AAIA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvJA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;A","sourceRoot":""}